{% extends "site/client/base_client.html" %}


{% load static %}
{% block title %}<title>Comfirmation email </title>{% endblock %}

{% block extra_css%}<link href="{% static 'css/client/missidhe_bourou_members.css'%}" rel="stylesheet" type="text/css">{% endblock %}


{% block content %}

  <style>
    :root {
      --bg: #f3f4f6;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --primary: #1d4ed8;
      --primary-contrast: #ffffff;
      --success: #16a34a;
      --error: #dc2626;
      --border: #e5e7eb;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0f172a;
        --card: #111827;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --primary: #3b82f6;
        --primary-contrast: #0b1220;
        --border: #1f2937;
      }
    }
    * { box-sizing: border-box; }
      @media (min-width: 800px) {
    .main-content{
        margin-top:100px;
    }
    .card {
      margin-top:200px;

      width: 80vw;               /* 80% de la largeur de l’écran */
      max-width: none;           /* retire la limite pour respecter strictement 80% */
      margin: 40px auto;         /* centre par rapport au parent */
      padding: 28px;             /* un peu plus d’air */
    }
    #title{
    color:white;
    }
  }

    .card {
      width: 100%;
      max-width: 560px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 28px;
      box-shadow: 0 10px 25px rgba(0,0,0,.06);
      margin-top:100px;
    }
    .header {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 12px;
    }
    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 44px; height: 44px;
      border-radius: 50%;
      background: #ecfdf5;
      color: var(--success);
      border: 1px solid #dcfce7;
    }
    .badge.error {
      background: #fef2f2;
      color: var(--error);
      border-color: #fee2e2;
    }
    h1 {
      font-size: 20px;
      line-height: 1.3;
      margin: 0;
    }
    p {
      margin: 0 0 14px;
      color: var(--text);
      line-height: 1.6;
      font-size: 15px;
    }
    .para1{
        color:#ff6219;
        margin-bottom:20px;
    }
    .muted { color: var(--muted); font-size: 13px; }
    .actions {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    .btn {
      display: inline-block;
      text-decoration: none;
      padding: 12px 18px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 14px;
      border: 1px solid transparent;
      transition: transform .02s ease, opacity .2s ease, background .2s ease;
    }
    .btn-primary {
      background: var(--primary);
      color: var(--primary-contrast);
    }
    .btn-outline {
      background: transparent;
      color: var(--text);
      border-color: var(--border);
    }
    .btn:active { transform: translateY(1px); }
    .divider {
      height: 1px;
      background: var(--border);
      margin: 20px 0;
    }
    .link {
      color: var(--primary);
      text-decoration: underline;
      text-underline-offset: 2px;
    }
    .center { text-align: center; }
    .footer {
      margin-top: 14px;
      color: var(--muted);
      font-size: 12px;
      text-align: center;
    }
    /* Responsive */
    @media (max-width: 420px) {
      .card { padding: 20px; border-radius: 12px; }
      .actions { flex-direction: column; }
      .btn { width: 100%; text-align: center; }
    }
  </style>

    <section class="card" aria-labelledby="title">
      <!-- Affichage conditionnel succès/erreur via variables de template -->
      <!-- Success -->
      {% if success %}
      <div class="header" role="status" aria-live="polite">
        <div class="badge" aria-hidden="true">
          <!-- Icône check -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M20 7L9 18l-5-5" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h1 id="title">Votre email a bien été confirmé</h1>
      </div>
      <p>Merci <strong>{{ user_name|default:'utilisateur' }}</strong>. Votre compte est maintenant actif.</p>
      <p class="muted">Vous pouvez vous connecter et commencer à utiliser votre espace.</p>
      <div class="actions">
        <a href="{{ login_url|default:'/' }}" class="btn btn-primary">Se connecter</a>
        <a href="{{ home_url|default:'/' }}" class="btn btn-outline">Aller à l’accueil</a>
      </div>
      {% endif %}

      <!-- Error -->
      {% if error %}
      <div class="header" role="alert" aria-live="assertive">
        <div class="badge error" aria-hidden="true">
          <!-- Icône croix -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/>
          </svg>
        </div>
        <h1 id="title">Lien invalide ou expiré</h1>
      </div>
      <p>{{ error }}</p>
      <p class="muted">Le lien de confirmation n’est plus valide. Vous pouvez demander un nouvel email de confirmation.</p>
      <div class="actions">
        <a href="{{ resend_url|default:'/' }}" class="btn btn-primary">Renvoyer l’email</a>
        <a href="mailto:{{ support_url|default:'#' }}" class="btn btn-outline">Contacter le support</a>
      </div>
      {% endif %}
      {% if link_used %}
              <div class="header" role="alert" aria-live="assertive">
        <div class="badge error" aria-hidden="true">
          <!-- Icône croix -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/>
          </svg>
        </div>
        <h1 id="title">Lien dèjà utilisé ou expiré</h1>
      </div>
      <p>{{ link_used }}</p>
      <p class="muted">Ce lien de confirmation a dèjà été utilisé. Cliquer sur ce bouton pour retourner à l'accueil.</p>
      <div class="actions">
        <a href="{{ home_url|default:'/' }}" class="btn btn-primary">Page d'accueil</a>
        <a href="mailto:{{ support_url|default:'#' }}" class="btn btn-outline">Contacter le support</a>
      </div>
       {% endif %}

      <div class="divider" role="separator" aria-hidden="true"></div>
      <p class="center muted">Si vous n’êtes pas à l’origine de cette action, vous pouvez ignorer ce message.</p>
    </section>

{% endblock %}